# Cloudflare Pages Configuration for ModelsMagix Dashboard
# See: https://developers.cloudflare.com/pages/configuration/wrangler-toml/

name = "modelsmagix-dashboard"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Build configuration
[build]
command = "npm run build"

# Environment variables (non-sensitive)
[vars]
NEXT_PUBLIC_APP_NAME = "ModelsMagix"

# R2 Storage Bucket Binding
[[r2_buckets]]
binding = "ASSETS_BUCKET"
bucket_name = "modelsmagix-assets"

# Production environment
[env.production]
name = "modelsmagix-dashboard"

[env.production.vars]
NEXT_PUBLIC_APP_URL = "https://modelsmagix-dashboard.pages.dev"

# Preview environment (for PR previews)
[env.preview]
name = "modelsmagix-dashboard-preview"

[env.preview.vars]
NEXT_PUBLIC_APP_URL = "https://preview.modelsmagix-dashboard.pages.dev"
